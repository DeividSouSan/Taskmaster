{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/board.css')}}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/task-form-modal.css')}}">
{% endblock %}

{% block content %}

<section class="board-menu">
  <section class="search-bar">
    <form hx-get="{{ url_for('task.search') }}" hx-target=".task-wrapper" hx-trigger="keyup delay:500ms"
      onkeydown="return event.key != 'Enter';">
      <!--O onkeydown verifica se a tecla pressionada foi a tecla ENTER. Se foi, o evento retorna false, o que cancela a submissão do formulário. -->
      <label for="">Procurar:</label>
      <input type="search" name="text-to-search">
    </form>
  </section>
  <section class="action-buttons">
    <button class="filter-task-button">
      Filtrar
    </button>
    <button class="task-modal-button">
      Adicionar
    </button>
  </section>
</section>

<section class="task-wrapper" hx-get="{{ url_for('task.get')}}" hx-trigger="load" hx-target="this">
  {% include "partials/task-container.html" %}
</section>

<!-- Template Não renderizado  -->
<template class="task-modal-template">
  <section class="task-modal-window">
    <section class="task-modal-container">
      <h1>Adicionar Task</h1>
      <form action="{{ url_for('task.add')}}" method="POST">
        {{ form.hidden_tag()}}
        {% for field in form if field.name not in ["csrf_token", "submit"] %}
        <div class="field-wrapper">
          {{ field.label }}
          {{ field }}
        </div>
        {% endfor %}
        {{form.submit}}
      </form>
    </section>
  </section>
</template>

<!-- Modal com o Formulário de Edição-->
<section class="edit-modal-window" style="display: none;">
  <section class="edit-modal-container">
  </section>
</section>

<!-- Modal com as opções de Filtro -->
<section>
  <form action="">
    <label for="">Começar</label>
    <input type="checkbox">

    <label for="">Fazendo</label>
    <input type="checkbox">

    <label for="">Terminado</label>
    <input type="checkbox">
  </form>
</section>
{% endblock %}

{% block javascript %}
<script src="{{ url_for('static', filename='javascript/task-config-section.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/add-task-button.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/menu.js') }}"></script>
{% endblock %}